<html>
    <&HTML-AND-JAVASCRIPT(.css)>
    <head>
      <title><.title></title>
      <script type="text/javascript" src="js/select-search.js"></script>
      <link rel="stylesheet" type="text/css" href="css/select-search.css" />
    </head>
    <body>
      <div class="container is-fluid">
        <div>
          <&HTML-AND-JAVASCRIPT(.navbar)>
        </div>
        <?.message>
          <span class="control">
            <pre class="notification"><.message></pre>
          </span>
        </?>
        <div>    
          <nav class="panel is-success">
            <p class="panel-heading">
              <.page-title>
            </p>
            <div class="panel-block">
              <nav class="tabs is-boxed is-fullwidth">
                    <div class="container">
                      <ul>
                        <li class="tab is-active" onclick="openTab(event,'ActiveList')"><a>Active Repos</a></li>
                        <li class="tab" onclick="openTab(event,'ManageRepos')"><a>Manage Repos</a></li>
                        <li class="tab" onclick="openTab(event,'AddRepo')"><a>Add Repo</a></li>
                      </ul>
                    </div>
              </nav>
            </div>
            <div class="panel-block">
              <div id="ActiveList" class="content-tab">
                <p class="control">
                  <@projects: $i>
                    <$i><br>
                  </@>
                </p>
              </div>
              <div id="ManageRepos" class="content-tab" style="display:none">
                <p class="control">
                  <table class="table">
                  <@projects: $i>
                    <tr>
                      <td>
                        <form action="/repo-rm" method="POST">
                          <input id="repo" class="input" type="hidden" name="repo" value="<$i>">
                          <$i>
                      </td>
                      <td>  
                          <button class="button is-small">Delete</button>  
                        </form>
                      </td>
                    </tr>
                  </@>
                  </table>
                </p>
              </div>
              <div id="AddRepo" class="content-tab" style="display:none">
                  <form autocomplete="off" action="/repo" method="POST">
                    <div class="field">
                        <div class="autocomplete" style="width:300px;">
                          <label class="label">Add repository</label>
                          <input id="repos" class="input" type="text" name="repos" placeholder="Repo name">
                          <span class="help is-success">Type here to search within repos</span>
                        </div>
                    </div>
                    <div class="field>
                      <div class="control">
                        <button class="button is-link">Add Repo</button>
                      </div>
                    </div>    
                  </form>
                  <script>
                    var repos = [ <.repos-js> ]
                    autocomplete(document.getElementById("repos"), repos);
                  </script> 
              </div>
            </div>
          </nav>
        </div>      
      </div>      
  </body>
</html>


